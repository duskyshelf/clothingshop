<!DOCTYPE html>
<html ng-app="ClothingShop">
  <head>
    <meta charset="utf-8">
    <title>So I Heard You Like Clothing</title>
    <link rel="stylesheet" href="css/stylesheet.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.6/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="icon" href="/favicon.ico" type="image/icon">
    <script src="js/ProductList.json"></script>
    <script src="js/app.js"></script>
    <script src="js/shopFrontController.js"></script>
    <script src="js/productFactory.js"></script>
    <script src="js/voucherService.js"></script>
  </head>

  <body ng-controller="ClothingShopController as shopCtrl">
    <div>

      <div class="container">
        <div class="row">
          <div class="product-list col-md-4" ng-repeat="item in shopCtrl.productdata">
              <p> {{item.name}} </p>
              <p> {{item.category}} </p>
              <p> Price: £{{item.price}} </p>
              <p> Stock: {{item.stock}} </p>
            <button id="item-{{shopCtrl.productdata.indexOf(item)}}" ng-click="shopCtrl.addItem(item)" ng-disabled="{{shopCtrl.outOfStock(item)}}">Add to basket</button>
        </div>
      </div>
    </div>
    <div>
      Basket:

      <ul class="shopping-cart" ng-repeat="item in shopCtrl.basket">
        <li>
          {{item.name}}
          {{item.category}}
          £{{item.price}}
          quantity: {{item.quantity}}
          <button id="basket-{{shopCtrl.basket.indexOf(item)}}" ng-click="shopCtrl.removeFromBasket(item)">Remove Item</button>
        </li>
      </ul>
      <form class="form-horizontal">
        <input class="voucher-box" type="text" ng-model="shopCtrl.voucherCode">
        <button class="voucher-btn" ng-click="shopCtrl.applyVoucher(shopCtrl.voucherCode)">Apply</button>
      </form>
      <div class="basket-total">
        Total: £{{ shopCtrl.basketTotal().toFixed(2) }}
      </div>
      <div class="voucher-notifier">
        {{ shopCtrl.voucheralert }}
      </div>
    </div>
  </div>
  </body>
</html>